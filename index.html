<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LandKart - Buy Lands Online</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="icon" href="icon.png" type="image/png">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f9fafb;
      color: #1f2937;
    }
    html {
      scroll-behavior: smooth;
    }
    .fade-in {
      animation: fadeIn 1s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    #splash {
      transition: opacity 1s ease;
    }
    body.dark {
      background-color: #121212;
      color: #f3f4f6;
    }
    body.dark nav,
    body.dark footer,
    body.dark .bg-white {
      background-color: #1e1e1e !important;
    }
    body.dark .text-gray-700,
    body.dark .text-gray-800 {
      color: #e5e7eb !important;
    }
    body.dark .bg-gray-100,
    body.dark .bg-gray-50 {
      background-color: #1a1a1a !important;
    }
    body.dark input,
    body.dark textarea {
      background-color: #2c2c2c;
      color: #f3f4f6;
      border-color: #444;
    }
    body.dark .hover\:bg-green-600:hover {
      background-color: #15803d;
    }
    body.dark .bg-green-600 {
      background-color: #15803d !important;
    }
    body.dark .bg-green-100 {
      background-color: #065f46 !important;
      color: #d1fae5 !important;
    }
    body.dark .shadow {
      box-shadow: 0 0 10px rgba(0, 255, 130, 0.15);
    }
    body.dark .border {
      border-color: #444 !important;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">
  <div id="splash" class="fixed inset-0 bg-green-600 flex items-center justify-center text-white text-3xl font-bold z-50">
    Welcome to LandKart
  </div>

  <!-- Responsive Navigation -->
  <nav class="bg-white shadow p-4 sticky top-0 z-40">
    <div class="flex justify-between items-center">
      <h1 class="text-2xl font-bold text-green-700 flex items-center">
        <img src="icon.png" alt="Icon" class="w-8 h-8 mr-2"> LandKart
      </h1>
      <button id="menu-toggle" class="sm:hidden focus:outline-none text-green-700 text-2xl">
        â˜°
      </button>
    </div>
    <ul id="nav-links" class="hidden sm:flex flex-col sm:flex-row sm:space-x-6 mt-4 sm:mt-0 items-center text-gray-600">
      <li><a href="#" class="block px-2 py-1 hover:text-green-500">Home</a></li>
      <li><a href="#about" class="block px-2 py-1 hover:text-green-500">About</a></li>
      <li><a href="#listings" class="block px-2 py-1 hover:text-green-500">Listings</a></li>
      <li><a href="#contact" class="block px-2 py-1 hover:text-green-500">Contact</a></li>
      <li><a href="login.html" class="block px-2 py-1 hover:text-green-500">Admin Login</a></li>
     <li>
  <label class="flex items-center space-x-2 cursor-pointer">
    <span class="text-sm text-gray-600 dark:text-gray-300">Dark Mode</span>
    <input id="theme-toggle" type="checkbox" class="hidden">
    <div class="w-10 h-5 bg-gray-300 dark:bg-gray-600 rounded-full relative transition">
      <div id="toggle-circle" class="w-4 h-4 bg-white absolute top-0.5 left-0.5 rounded-full shadow transition-transform"></div>
    </div>
  </label>
</li>


    </ul>
  </nav>

  <section class="relative bg-cover bg-center h-screen" style="background-image: url('hero.jpg');">
    <div class="bg-black bg-opacity-50 h-full flex items-center justify-center text-center">
      <div class="text-white px-4">
        <h2 class="text-5xl font-bold mb-4">Find Your Land of Dreams</h2>
        <p class="mb-6 text-lg">Discover scenic and investment-worthy land parcels.</p>
        <a href="#listings" class="bg-green-500 hover:bg-green-600 text-white py-3 px-6 rounded-full">Explore Listings</a>
      </div>
    </div>
  </section>

  <section class="p-6 max-w-3xl mx-auto">
    <input id="search-bar" type="text" placeholder="Search lands by location or price..." class="w-full p-3 border rounded-lg shadow" />
  </section>

  <div class="mb-6 flex flex-wrap gap-3 justify-center px-4">
    <button onclick="loadListings('farm')" class="px-4 py-2 bg-green-100 text-green-800 rounded-full hover:bg-green-200">Farm Land</button>
    <button onclick="loadListings('residential')" class="px-4 py-2 bg-green-100 text-green-800 rounded-full hover:bg-green-200">Residential</button>
    <button onclick="loadListings('commercial')" class="px-4 py-2 bg-green-100 text-green-800 rounded-full hover:bg-green-200">Commercial</button>
  </div>

  <section id="listings" class="p-6 bg-white">
    <div class="container mx-auto">
      <h3 class="text-3xl font-semibold text-center text-green-700 mb-8">Available Land Parcels</h3>
      <div id="listings-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">Loading listings...</div>
    </div>
  </section>

  <div id="enquiryModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
    <form class="bg-white p-6 rounded shadow-lg w-full max-w-md space-y-4" onsubmit="submitEnquiry(event)">
      <h2 class="text-2xl font-semibold text-green-700">Submit Your Enquiry</h2>
      <input type="text" placeholder="Your Name" required class="w-full border p-3 rounded" />
      <input type="tel" placeholder="Phone Number" required class="w-full border p-3 rounded" />
      <input type="email" placeholder="Email Address" required class="w-full border p-3 rounded" />
      <textarea placeholder="Your Message" class="w-full border p-3 rounded"></textarea>
      <div class="flex items-center">
        <input type="checkbox" id="whatsapp" class="mr-2">
        <label for="whatsapp">Receive updates on WhatsApp</label>
      </div>
      <div class="flex justify-between">
        <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Submit</button>
        <button type="button" onclick="document.getElementById('enquiryModal').classList.add('hidden')" class="text-red-600">Cancel</button>
      </div>
    </form>
  </div>

  <section id="about" class="p-6 bg-gray-100">
    <div class="max-w-4xl mx-auto text-center">
      <h3 class="text-3xl font-bold text-green-700 mb-4">About LandKart</h3>
      <p class="text-gray-700 text-lg">LandKart has been helping people find their perfect land for over 5 years. With 100+ satisfied customers and growing, weâ€™re proud to be a trusted name in land listings across India. Whether you're buying your first plot or expanding your investment, our verified listings, transparent process, and dedicated support make it easy. At LandKart, your trust is our biggest milestone</p>
    </div>
  </section>
  <section class="bg-white py-12">
  <div class="max-w-5xl mx-auto px-6 text-center">
    <h3 class="text-3xl font-bold text-green-700 mb-8">Why Choose LandKart?</h3>
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
      
      <div class="p-6 bg-green-50 rounded shadow hover:shadow-lg transition">
        <h4 class="text-4xl font-extrabold text-green-700 counter" data-target="5">0</h4>
        <p class="mt-2 text-gray-700">Years of Service</p>
      </div>

      <div class="p-6 bg-green-50 rounded shadow hover:shadow-lg transition">
        <h4 class="text-4xl font-extrabold text-green-700 counter" data-target="100">0</h4>
        <p class="mt-2 text-gray-700">Happy Customers</p>
      </div>

      <div class="p-6 bg-green-50 rounded shadow hover:shadow-lg transition">
        <h4 class="text-4xl font-extrabold text-green-700 counter" data-target="100">0</h4>
        <p class="mt-2 text-gray-700">Customer Satisfaction</p>
      </div>

    </div>
  </div>
</section>


    </div>
  </div>
</section>


  <section id="contact" class="p-6 bg-white">
    <div class="max-w-xl mx-auto text-center">
      <h3 class="text-3xl font-bold text-green-700 mb-6">Contact Us</h3>
      <p class="text-gray-700 mb-2">Email: contact@mylandkart.com   info@mylandkart.com   enquiry@mylandkart.com</p>
      <p class="text-gray-700">Phone: +91 998653 95078</p>
    </div>
  </section>

 <footer class="bg-gray-900 text-white text-center p-4 mt-8">
  &copy; 2025 LandKart. All rights reserved. | 
  <a href="terms.html" class="underline">Terms</a> | 
  <a href="privacy.html" class="underline">Privacy</a>
</footer>


  <a href="https://wa.me/919865395078" target="_blank" class="fixed bottom-6 right-6 bg-green-500 text-white px-4 py-3 rounded-full shadow-lg hover:bg-green-600">
    ðŸ’¬ Chat with Us
  </a>
<script>
  const API_URL = 'https://script.google.com/macros/s/AKfycbzcje6QXduHvEdQ5KT5HZqnJr7l_TDbKTPGi3lCQKC2qFSCUCLT0OQ3e4qOwh4sf3jLWQ/exec';
  const SHEET_URL = 'https://opensheet.elk.sh/10gC7KV7HEouX1LEV6jd1ODZzVPwq46nm-rfOwYZKmII/Sheet1';

  const role = sessionStorage.getItem("landkartRole");
  if (role !== "admin") window.location.href = "login.html";

  const form = document.getElementById('addListingForm');
  const statusMessage = document.getElementById('statusMessage');
  const submitBtn = document.getElementById('submitBtn');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    submitBtn.disabled = true;
    statusMessage.textContent = 'Uploading...';

    const file = form.image.files[0];
    if (!file) {
      statusMessage.textContent = 'Please select an image file.';
      submitBtn.disabled = false;
      return;
    }

    const reader = new FileReader();
    reader.onload = async function () {
      const base64Data = reader.result;

      const formData = new FormData();
      formData.append('image', base64Data);
      formData.append('title', form.title.value.trim());
      formData.append('description', form.description.value.trim());
      formData.append('price', form.price.value.trim());

      try {
        const res = await fetch(API_URL, {
          method: 'POST',
          body: formData
        });

        const result = await res.json();
        if (result.status === 'success') {
          statusMessage.textContent = 'Listing added successfully!';
          form.reset();
          loadListings();
        } else {
          statusMessage.textContent = 'Failed: ' + result.message;
        }
      } catch (err) {
        statusMessage.textContent = 'Error: ' + err.message;
      }
      submitBtn.disabled = false;
    };
    reader.readAsDataURL(file);
  });

  async function loadListings() {
    const container = document.getElementById('listingTable');
    try {
      const res = await fetch(SHEET_URL);
      const listings = await res.json();

      if (!listings.length) {
        container.innerHTML = '<p>No listings found.</p>';
        return;
      }

      container.innerHTML = '';
      listings.forEach((listing, index) => {
        const rowNumber = index + 2;
        const images = listing.image.split(',').map(img => img.trim());

        const wrapper = document.createElement('div');
        wrapper.className = 'p-4 border rounded bg-gray-50';

        wrapper.innerHTML = `
          <div class="mb-2">
            <strong>${listing.title}</strong> â€“ â‚¹${listing.price}<br>
            <small>${listing.description}</small>
          </div>
          <div class="flex flex-wrap gap-2 mb-2">
            ${images.map((img, i) => `
              <div class="relative">
                <img src="${img}" class="w-20 h-14 object-cover rounded">
                <button onclick="deletePhoto(${rowNumber}, ${i})" class="absolute top-0 right-0 text-xs bg-red-600 text-white px-1 rounded">Ã—</button>
              </div>`).join('')}
          </div>
          ${listing.youtube ? `<a href="${listing.youtube}" target="_blank" class="inline-block bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 mb-2">Watch Video</a>` : ''}
          <div class="mt-2 flex gap-2">
            <input type="text" placeholder="Add or update YouTube URL" class="p-2 border rounded w-full" id="yt-${rowNumber}" value="${listing.youtube || ''}">
            <button onclick="updateVideo(${rowNumber})" class="bg-blue-600 text-white px-2 py-1 rounded">Save</button>
            <button onclick="removeVideo(${rowNumber})" class="bg-red-500 text-white px-2 py-1 rounded">Remove</button>
            <button onclick="deleteListing(${rowNumber})" class="ml-auto text-red-600 hover:underline">Delete Listing</button>
          </div>
        `;

        container.appendChild(wrapper);
      });
    } catch (err) {
      container.innerHTML = '<p>Error loading listings.</p>';
    }
  }

  async function deleteListing(row) {
    if (!confirm('Are you sure you want to delete this listing?')) return;
    const res = await fetch(API_URL + '?deleteRow=' + row);
    const result = await res.json();
    if (result.status === 'success') loadListings();
    else alert('Failed to delete: ' + result.message);
  }

  async function deletePhoto(row, index) {
    const confirmed = confirm('Delete this image?');
    if (!confirmed) return;
    await fetch(API_URL + `?removePhotoRow=${row}&photoIndex=${index}`);
    loadListings();
  }

  async function updateVideo(row) {
    const input = document.getElementById(`yt-${row}`);
    const value = input.value.trim();
    await fetch(API_URL + `?updateVideoRow=${row}&video=${encodeURIComponent(value)}`);
    alert('YouTube video updated!');
    loadListings();
  }

  async function removeVideo(row) {
    await fetch(API_URL + `?removeVideoRow=${row}`);
    alert('YouTube video removed.');
    loadListings();
  }

  // Logout button action
  const logoutButton = document.createElement('button');
  logoutButton.textContent = 'Logout';
  logoutButton.className = 'mt-6 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700';
  logoutButton.onclick = () => {
    sessionStorage.removeItem("landkartRole");
    window.location.href = "index.html";
  };
  document.querySelector('.container').appendChild(logoutButton);

  loadListings();
</script>
</body>
</html>
